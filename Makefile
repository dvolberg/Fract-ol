# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: dvolberg <dvolberg@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2014/12/03 10:43:37 by dvolberg          #+#    #+#              #
#    Updated: 2015/03/09 16:59:40 by dvolberg         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME = fractol

SRC = main.c\
	ft_fractol.c\
	ft_julia.c\
	ft_draw_julia.c\
	ft_mandel.c\
	ft_mandelbar.c\
	ft_draw_mandel.c\
	ft_draw_mandelbar.c

OBJ = $(SRC:.c=.o)

FLAG = -Wall -Werror -Wextra

LIB = /usr/X11/lib -lmlx -lXext -lX11 -lm

.PHONY : libft.a

all : libft.a $(NAME)

libft.a:
	@$(MAKE) -C ./libft

$(NAME) : $(OBJ)
	@echo "\033[32mBuilding fractol...\033[0m"
	@gcc $(FLAG) $(OBJ) libft/libft.a -L $(LIB) -I ./libft/ -o $(NAME)
	@echo "\033[0m"
	@echo "::::::::::::::::::::::::::::::::::::::::::::::::::::::";
	@echo "::  ::::  ::::  ::::  ::::  ::::  ::::  ::::  ::::  ::";
	@echo "::::::::::::::::::::::::::::::::::::::::::::::::::::::";
	@echo "::::::      ::::::::::::      ::::::::::::      ::::::";
	@echo "::  ::      ::  ::::  ::      ::  ::::  ::      ::  ::";
	@echo "::::::      ::::::::::::      ::::::::::::      ::::::";
	@echo "::::::::::::::::::::::::::::::::::::::::::::::::::::::";
	@echo "::  ::::  ::::  ::::  ::::  ::::  ::::  ::::  ::::  ::";
	@echo "::::::::::::::::::::::::::::::::::::::::::::::::::::::";
	@echo "::::::::::::::::::                  ::::::::::::::::::";
	@echo "::  ::::  ::::  ::                  ::  ::::  ::::  ::";
	@echo "::::::::::::::::::                  ::::::::::::::::::";
	@echo "::::::      ::::::                  ::::::      ::::::";
	@echo "::  ::      ::  ::     Fract'ol     ::  ::      ::  ::";
	@echo "::::::      ::::::                  ::::::      ::::::";
	@echo "::::::::::::::::::                  ::::::::::::::::::";
	@echo "::  ::::  ::::  ::                  ::  ::::  ::::  ::";
	@echo "::::::::::::::::::                  ::::::::::::::::::";
	@echo "::::::::::::::::::::::::::::::::::::::::::::::::::::::";
	@echo "::  ::::  ::::  ::::  ::::  ::::  ::::  ::::  ::::  ::";
	@echo "::::::::::::::::::::::::::::::::::::::::::::::::::::::";
	@echo "::::::      ::::::::::::      ::::::::::::      ::::::";
	@echo "::  ::      ::  ::::  ::      ::  ::::  ::      ::  ::";
	@echo "::::::      ::::::::::::      ::::::::::::      ::::::";
	@echo "::::::::::::::::::::::::::::::::::::::::::::::::::::::";
	@echo "::  ::::  ::::  ::::  ::::  ::::  ::::  ::::  ::::  ::";
	@echo "::::::::::::::::::::::::::::::::::::::::::::::::::::::";
	@echo "\033[32m[Success]"

%.o: %.c
	@gcc -I ./libft/ -c $^

clean :
	@echo "\033[33mCleaning fractol and libft!\033[0m"
	@make -C ./libft/ clean
	@rm -f $(OBJ)
	@echo "\033[32m[Everything is Clean]\033[0m"

fclean : clean
	@echo "\033[31mFclean fractol and libft!\033[0m"
	@make -C ./libft/ fclean
	@rm -f $(NAME)

re : fclean all
